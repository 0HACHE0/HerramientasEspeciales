<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="eH.css">

    <title>HERRAMIENTAS ESPECIALES</title>
  </head>
  <body bgcolor="FFCECB">

    <nav class="navbar navbar-dark bg-dark sticky-top">
      <a class="navbar-brand" href="#">
        <img src="h.jpg" width="60" height="60" class="d-inline-block align-center" alt="" loading="lazy"> AVELLANADOR
      </a>
       <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
     

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item active">
            <a class="nav-link" href="#">AVELLANADOR</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="brocas.html">BROCAS Y MUELAS</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="brocayavellanador.html">BROCA - AVELLANADOR</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="muelabisel.html">MUELA - BISEL</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="muelasegmentada.html">MUELA SEGMENTADA</a>
          </li>  
        </ul>
      </div>
    </nav>

    <br>

    <form>
      <div class="row col-md-10 ml-auto mr-auto">

        <div class="col-md-5 ml-auto mr-auto">

          <div class="form-group row col-md-9 ml-auto mr-auto">
            <p class="fontH col-3 col-form-label">Cliente:</p>
            <div class="col-9">
              <input type="text" class="form-control form-control-sm" id="cliente" style="text-transform: uppercase">
            </div>
          </div>

          <div class="row col-md-10 ml-auto mr-auto">
            <p class="ml-auto mr-auto fontH0">Pieza</p>
          </div>

          <div class="form-group col-md-12 row ml-auto mr-auto">
            <div class="form-check form-check-inline col-5 ml-auto mr-auto">
              <input class="form-check-input ml-auto" type="radio" id="bujeros1" value="2" onclick="deshabilitaCheckBox(value)">
              <label class="form-check-label fontH mr-auto" >Sin Abertura</label>
            </div>

            <div class="form-check form-check-inline col-5 ml-auto mr-auto  ">
              <input class="form-check-input ml-auto" type="radio" id="bujeros2" value="1" onclick="deshabilitaCheckBox(value)">
              <label class="form-check-label fontH mr-auto" >Con Abertura</label>
            </div>
          </div>

          <div class="form-group col-md-9 ml-auto mr-auto">
            <label class="fontH">Diametro:</label>
            <input type="number" class="form-control form-control-sm" id="diametro" placeholder="0" min="0">
          </div>

          <div class="form-group col-md-9 ml-auto mr-auto">
            <label class="fontH">Ancho:</label>
            <input type="number" class="form-control form-control-sm" id="ancho" placeholder="0" min="0">
          </div>

          
          <div class="form-group col-md-9 ml-auto mr-auto">
            <label class="fontH">Ángulo:</label>
            <input type="number" class="form-control form-control-sm" id="angulo" placeholder="0" min="0" max ="180">
          </div>

          <div class="form-group col-md-9 ml-auto mr-auto">
            <label class="fontH">Cantidad de Diamante:</label>
            <input type="number" class="form-control form-control-sm" id="diamante" placeholder="0" min="0">
          </div>

          <div class="form-group col-md-9 ml-auto mr-auto">
            <label class="fontH">MESH:</label>
            <select class="form-select" id="mesh_pieza">
              <option value="0" selected>Selecciona una opción</option>
              <option value="1">40/60</option>
              <option value="2">60/70</option>
              <option value="3">80/100</option>
              <option value="4">100/120</option>
              <option value="5">140/170</option>
              <option value="6">170/200</option>
              <option value="7">200/230</option>
              <option value="8">270/300</option>
              <option value="9">325</option>
              <option value="10">400</option>
            </select>
          </div>

          <div class="form-group col-md-9 ml-auto mr-auto">
            <label class="fontH">Tipo:</label>
            <select class="form-select" id="tipo_pieza">
              <option value="0" selected>Selecciona una opción</option>
              <option value="1">Sintetico</option>
              <option value="2">Recubrimiento de titanio</option>
              <option value="3">Recubrimiento de niquel</option>
              <option value="4">Recubrimiento de cobre</option>
              <option value="5">Natural</option>
            </select>
          </div>

        </div>

        <div class="col-md-5 ml-auto mr-auto">

          <div class="row col-md-10 ml-auto mr-auto">
            <p class="ml-auto mr-auto fontH0">Materiales</p>
          </div>
          
          <br>

          <div class="form-group row ml-auto mr-auto">
            <p class="fontH col-6 col-form-label">Bronce:</p>
            <div class="col-4">
              <input type="number" class="form-control form-control-sm" id="material1" placeholder="0" min="0">
            </div>
            <p class="fontH col-2 col-form-label">%</p>
          </div>

          <div class="form-group row ml-auto mr-auto">
            <p class="fontH col-6 col-form-label">Cobalto:</p>
            <div class="col-4">
              <input type="number" class="form-control form-control-sm" id="material2" placeholder="0" min="0">
            </div>
            <p class="fontH col-2 col-form-label">%</p>
          </div>

          <div class="form-group row ml-auto mr-auto">
            <p class="fontH col-6 col-form-label">Hierro:</p>
            <div class="col-4">
              <input type="number" class="form-control form-control-sm" id="material3" placeholder="0" min="0">
            </div>
            <p class="fontH col-2 col-form-label">%</p>
          </div>

          <div class="form-group row ml-auto mr-auto">
            <p class="fontH col-6 col-form-label">Manganeso:</p>
            <div class="col-4">
              <input type="number" class="form-control form-control-sm" id="material4" placeholder="0" min="0">
            </div>
            <p class="fontH col-2 col-form-label">%</p>
          </div>

          <div class="form-group row ml-auto mr-auto">
            <p class="fontH col-6 col-form-label">Niquel:</p>
            <div class="col-4">
              <input type="number" class="form-control form-control-sm" id="material5" placeholder="0" min="0">
            </div>
            <p class="fontH col-2 col-form-label">%</p>
          </div>

          <div class="form-group row ml-auto mr-auto">
            <p class="fontH col-6 col-form-label">Zinc:</p>
            <div class="col-4">
              <input type="number" class="form-control form-control-sm" id="material6" placeholder="0" min="0">
            </div>
            <p class="fontH col-2 col-form-label">%</p>
          </div>

          <div class="form-group row ml-auto mr-auto">
            <p class="fontH col-6 col-form-label">Grafito:</p>
            <div class="col-4">
              <input type="number" class="form-control form-control-sm" id="material7" placeholder="0" min="0">
            </div>
            <p class="fontH col-2 col-form-label">%</p>
          </div>

          <div class="form-group row ml-auto mr-auto">
            <p class="fontH col-6 col-form-label">Estaño:</p>
            <div class="col-4">
              <input type="number" class="form-control form-control-sm" id="material8" placeholder="0" min="0">
            </div>
            <p class="fontH col-2 col-form-label">%</p>
          </div>

          <div class="form-group row ml-auto mr-auto">
            <p class="fontH col-6 col-form-label">Plata:</p>
            <div class="col-4">
              <input type="number" class="form-control form-control-sm" id="material9" placeholder="0" min="0">
            </div>
            <p class="fontH col-2 col-form-label">%</p>
          </div>

          <div class="form-group row ml-auto mr-auto">
            <p class="fontH col-6 col-form-label">Pirita de Hierro:</p>
            <div class="col-4">
              <input type="number" class="form-control form-control-sm" id="material10" placeholder="0" min="0">
            </div>
            <p class="fontH col-2 col-form-label">%</p>
          </div>

        </div>

        <div class="form-group col-md-12">
          <button type="button" class="btn btn-success float-right" onclick="calcular()">CALCULAR</button>
        </div>

      </div>



    </form>

    <!-- Modal -->
        <div class="modal fade" id="modalH" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header" id="colorModalHache">
                <h5 class="modal-title" id="modalTitleH"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body" id="modalBodyH"></div>
              <div class="modal-footer" id="modalFooterH">

              </div>
            </div>
          </div>
        </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

    <script src="jspdf.min.js"></script>

    <script type="text/javascript">

    document.getElementById("bujeros1").checked = true;
    var auxM = 0;
    var buttonCerrar='<button type="button" class="btn btn-danger" data-dismiss="modal">CERRAR</button>';
    var buttonDescargar='<button type="button" class="btn btn-success" onclick="descargar()">DESCARGAR INFORME</button>';
    //VARIABLES USADAS EN LA IMPRESIÓN DEL PDF (FUNCIÓN)
    var textPDF0;
    var textPDF1;
    var textPDF2;
    var textPDF3;
    var textPDF4;
    var textPDF5;

    var headPDF0 = "INFORMACIÓN DEL REGISTRO";
    var headPDF1 = "MEDIDAS DE LA PIEZA INGRESADAS";
    var headPDF2 = "MEDIDAS DE LA PIEZA CALCULADAS";
    var headPDF3 = "CALCULOS DEL VOLUMEN";
    var headPDF4 = "MATRIZ DE MATERIALES";
    var headPDF5 = "GRAMOS DE MATERIALES";

    var clientePDF;
    var medidasPDF;
    var materialesPDF;

    function calcular(){

        //INICIALIZACIÓN
        textPDF0 = "";
        textPDF1 = "";
        textPDF2 = "";
        textPDF3 = "";
        textPDF4 = "";
        textPDF5 = "";

        clientePDF = "";
        medidasPDF = "";
        materialesPDF = "";

        //VARIABLES IMPRESIÓN EN MODAL
        var cadena = "";
        var separador = "<br>";
        var mm = " mm";
        var mm3 = " mm³";
        var gr = " gr";
        var ang = " °";
        var porc = " %";
        var negra0 = "<strong>";
        var negra1 = "</strong>";


        //VARIABLES IMPRESIÓN EN PDF
        var separadorPDF = "\n";

        //CONSTANTES
        var d0 = 0.0571;      //Diamante
        var material0n = "DIAMANTE";
        var d1 = 8.5;       //bronce
        var material1n = "BRONCE";
        var d2 = 8.9;       //cobalto
        var material2n = "COBALTO";
        var d3 = 7.84;      //hierro
        var material3n = "HIERRO";
        var d4 = 7.4;       //manganeso
        var material4n = "MANGANESO";
        var d5 = 7.68;      //niquel
        var material5n = "NIQUEL";
        var d6 = 7.14;      //zinc
        var material6n = "ZINC";
        var d7 = 2.25;      //grafito
        var material7n = "GRAFITO";

        var d8 = 7.29;      //estaño
        var material8n = "ESTAÑO";
        var d9 = 10.49;      //plata
        var material9n = "PLATA";
        var d10 = 4.95;      //pirita de hierro
        var material10n = "PIRITA DE HIERRO";

        if (validaciones() != 1){

            cadena += separador;
            cadena += negra0 + headPDF0 + negra1 + separador;
            
            //DATOS QUE INGRESA EL USUARIO

            //CLIENTE
            var clienteForm = document.getElementById("cliente").value.toUpperCase();
            clientePDF = clienteForm;
            cadena += "CLIENTE: " + clienteForm + separador;
              textPDF0 += "CLIENTE: " + clienteForm + separadorPDF;

            //FECHA
            getCurrentDate();
            cadena += "FECHA: " + completeDateModal + separador;
              textPDF0 += "FECHA: " + completeDateModal + separadorPDF;

            //ABERTURA
            var conBujerosForm = document.getElementById("bujeros2").checked;
            if(conBujerosForm==true){
              cadena += "TIPO DE PIEZA: AVELLANADOR CON ABERTURA" + separador;
                textPDF0 += "TIPO DE PIEZA: AVELLANADOR CON ABERTURA" + separadorPDF;
            }
            else{
              cadena += "TIPO DE PIEZA: AVELLANADOR SIN ABERTURA" + separador;
                textPDF0 += "TIPO DE PIEZA: AVELLANADOR SIN ABERTURA" + separadorPDF;
            }

            var mesh_form = document.getElementById("mesh_pieza");
            var mesh_pieza = mesh_form.options[mesh_form.selectedIndex].text;

            cadena += "MESH: " + mesh_pieza + separador;
              textPDF0 += "MESH: " + mesh_pieza + separadorPDF;

            var tipo_form = document.getElementById("tipo_pieza");
            var tipo_pieza = tipo_form.options[tipo_form.selectedIndex].text;

            cadena += "TIPO: " + tipo_pieza + separador;
              textPDF0 += "TIPO: " + tipo_pieza + separadorPDF;

            cadena += separador;




            cadena += negra0 + headPDF1 + negra1 + separador;

            //DIAMETRO
            var diametroForm = document.getElementById("diametro").value * 1;
            cadena += "DIAMETRO: " + diametroForm + mm + separador;
              textPDF1 += "DIAMETRO: " + diametroForm + mm + separadorPDF;
            //ANGULO
            var anguloForm = document.getElementById("angulo").value * 1;
            cadena += "ÁNGULO: " + anguloForm + ang + separador;
              textPDF1 += "ÁNGULO: " + anguloForm + ang + separadorPDF;

            //ANCHURA
            var anchoForm = document.getElementById("ancho").value * 1;
            cadena += "ANCHO: " + anchoForm + mm + separador;
              textPDF1 += "ANCHO: " + anchoForm + mm + separadorPDF;

            //DIAMANTE
            var diamanteForm = document.getElementById("diamante").value * 1;
            cadena += "DIAMANTE: " + diamanteForm + separador;
              textPDF1 += "DIAMANTE: " + diamanteForm + separadorPDF;
            

            medidasPDF = diametroForm + "x" + anchoForm + " - " + anguloForm + "° - " + diamanteForm +"D";
            cadena += separador;





            cadena += negra0 + headPDF2 + negra1 +separador;



            //CALCULOS DE VOLUMEN DEL CONO*/
            //CALCULOS ANGULO, CATETO E HIPOTENUSA.
            var rad = (Math.PI * anguloForm ) / 180 ;
            var anguloCal = Math.cos(rad);   

            //RADIO CONO MAYOR
            var rE = diametroForm / 2;
            cadena += "RADIO EXTERIOR: " + rE.toFixed(2) + mm + separador;
              textPDF2 += "RADIO EXTERIOR: " + rE.toFixed(2) + mm + separadorPDF;

            //RADIO CUADRADO
            var rE2 = rE * rE;


            //HIPOTENUSA CONO MAYOR
            var hipoE = rE / anguloCal;
            cadena += "HIPOTENUSA EXTERIOR: " + hipoE.toFixed(2) + mm + separador;
              textPDF2 += "HIPOTENUSA EXTERIOR: " + hipoE.toFixed(2) + mm + separadorPDF;
            //HIPOTENUSA CUADRADA
            var hipoE2 = hipoE * hipoE;


            var b2 = (hipoE2) - (rE2);
            //ALTURA CONO MAYOR
            var alturaE = Math.sqrt(b2);
            cadena += "ALTURA EXTERIOR: " + alturaE.toFixed(2) + mm + separador;
              textPDF2 += "ALTURA EXTERIOR: " + alturaE.toFixed(2) + mm + separadorPDF;


            //VOLUMEN CONO MAYOR*/
            var vConoM0 = (Math.PI * rE2 * alturaE) / 3;


            //CALCULOS TRASCENDENTES PARA APROXIMAR LA LINEALIDAD DEL ANCHO INTERNO QUE SE CALCULA
            var nuevoAngulo = 90 - anguloForm;
            var radX = (Math.PI * nuevoAngulo ) / 180 ;
            var anguloCalX = Math.cos(radX);
            var hipoEX = anchoForm / anguloCalX;
            var hipoEX2 = hipoEX * hipoEX;
            var b2 = (hipoEX2) - (anchoForm * anchoForm);
            var anchoX = Math.sqrt(b2);
            cadena += "ANCHURA INTERIOR AL CENTRO: " + anchoX.toFixed(2) + mm + separador;
              textPDF2 += "ANCHURA INTERIOR AL CENTRO: " + anchoX.toFixed(2) + mm + separadorPDF;



            //RADIO CONO MENOR
            var rI = rE - anchoX;
            //RADIO CONO MENOR CUADRADO
            var rI2 = rI * rI;

            //HIPOTENUSA CONO MENOR
            var hipoI = rI / anguloCal;
            //HIPOTENUSA CONO MENOR CUADRADA
            var hipoI2 = hipoI * hipoI;

            b2 = (hipoI2) - (rI2);
            //ALTURA CONO MENOR
            var alturaI = Math.sqrt(b2);
            cadena += "ALTURA INTERIOR AL CENTRO: " + alturaI.toFixed(2) + mm + separador;
              textPDF2 += "ALTURA INTERIOR AL CENTRO: " + alturaI.toFixed(2) + mm + separadorPDF;

            //VOLUMEN CONO MENOR*/
            var vConoM1 = (Math.PI * rI2 * alturaI) / 3;


            var vT0 = vConoM0 - vConoM1;



            //CALCULOS DE VOLUMEN DE LA BASE*/

            var vCilM0 = Math.PI * rE2 * anchoForm;

            var vCilM1 = Math.PI * anchoForm * ( (rE2) + (rI2) + (rE * rI) ) / 3;

            var vT1 = vCilM0 - vCilM1;

            //CALCULO VOLUMEN DE BUJEROS*/

            var hBujero = hipoE - 3 - 3;

            var vBujero = hBujero * 3 * 3;

            var vTBujeros = vBujero * 3;

            if(conBujerosForm==false) vTBujeros = 0;

            cadena += separador;




            cadena += negra0 + headPDF3 + negra1 +separador;

            //VOLUMEN TOTAL SIN DIAMANTE
            var vTSinD = vT0 + vT1 - vTBujeros;
            cadena += "VOLUMEN TOTAL SIN DIAMANTE: " + vTSinD.toFixed(2) + mm3 + separador;
              textPDF3 += "VOLUMEN TOTAL SIN DIAMANTE: " + vTSinD.toFixed(2) + mm3 + separadorPDF;



            //CANTIDAD DE DIAMANTE (SE PASA A %)*/
            var diamante = (diamanteForm * 4.4) / 100;
            cadena += "PORCENTAJE DE DIAMANTE: " + diamante.toFixed(2) + porc + separador;
              textPDF3 += "PORCENTAJE DE DIAMANTE: " + diamante.toFixed(2) + porc + separadorPDF;

            var kilates = (vTSinD * diamante) / 1000;

            var g0 = kilates/5;

            var vD = kilates * d0 * 1000;
            cadena += "VOLUMEN DIAMANTE: " + vD.toFixed(2) + mm3 + separador;
              textPDF3 += "VOLUMEN DIAMANTE: " + vD.toFixed(2) + mm3 + separadorPDF;


            var vTConD = vTSinD - vD;
            cadena += "VOLUMEN TOTAL CON DIAMANTE: " + vTConD.toFixed(2) + mm3 + separador;
              textPDF3 += "VOLUMEN TOTAL CON DIAMANTE: " + vTConD.toFixed(2) + mm3 + separadorPDF;


            cadena += separador;




            cadena += negra0 + headPDF4 + negra1 +separador;


            var m1=0, m2=0, m3=0, m4=0, m5=0, m6=0, m7=0,m8=0, m9=0, m10=0;

            var auxMaterial;

            for (var i = 1; i <= 10; i++) {
              auxMaterial = document.getElementById("material"+i).value * 1;
              //VALIDACIÓN SI EL CAMPO DE ESE MATERIAL NO ESTA EN 0.
              if (auxMaterial!=0){
                if(i==1){     m1 = (d1 * vTConD) / 1000;   cadena += material1n+": " + m1.toFixed(2) + separador;  
                  textPDF4 += material1n+": " + m1.toFixed(2) + separadorPDF;}
                else if(i==2){    m2 = (d2 * vTConD) / 1000;   cadena += material2n+": " + m2.toFixed(2) + separador;  
                  textPDF4 += material2n+": " + m2.toFixed(2) + separadorPDF;}
                else if(i==3){    m3 = (d3 * vTConD) / 1000;   cadena += material3n+": " + m3.toFixed(2) + separador;  
                  textPDF4 += material3n+": " + m3.toFixed(2) + separadorPDF;}
                else if(i==4){    m4 = (d4 * vTConD) / 1000;   cadena += material4n+": " + m4.toFixed(2) + separador;  
                  textPDF4 += material4n+": " + m4.toFixed(2) + separadorPDF;}
                else if(i==5){    m5 = (d5 * vTConD) / 1000;   cadena += material5n+": " + m5.toFixed(2) + separador;  
                  textPDF4 += material5n+": " + m5.toFixed(2) + separadorPDF;}
                else if(i==6){    m6 = (d6 * vTConD) / 1000;   cadena += material6n+": " + m6.toFixed(2) + separador;  
                  textPDF4 += material6n+": " + m6.toFixed(2) + separadorPDF;}
                else if(i==7){    m7 = (d7 * vTConD) / 1000;   cadena += material7n+": " + m7.toFixed(2) + separador;  
                  textPDF4 += material7n+": " + m7.toFixed(2) + separadorPDF;}
                else if(i==8){    m8 = (d8 * vTConD) / 1000;   cadena += material8n+": " + m8.toFixed(2) + separador;  
                  textPDF4 += material8n+": " + m8.toFixed(2) + separadorPDF;}
                else if(i==9){    m9 = (d9 * vTConD) / 1000;   cadena += material9n+": " + m9.toFixed(2) + separador;  
                  textPDF4 += material9n+": " + m9.toFixed(2) + separadorPDF;}
                else{             m10 = (d10 * vTConD) / 1000;   cadena += material10n+": " + m10.toFixed(2) + separador;  
                  textPDF4 += material10n+": " + m10.toFixed(2) + separadorPDF;}
              }
            }

            cadena += separador;

            var g1=0, g2=0, g3=0, g4=0, g5=0, g6=0, g7=0, g8=0, g9=0, g10=0;




            cadena += negra0 + headPDF5 + negra1 +separador;

            cadena += material0n+"("+diamante+"%): " + g0.toFixed(2) + gr + separador;
              textPDF5 += material0n+"("+diamante+"%): " + g0.toFixed(2) + gr + separadorPDF;

            for (var i = 1; i <= 10; i++) {
        auxMaterial = document.getElementById("material"+i).value * 1;
        //VALIDACIÓN SI EL CAMPO DE ESE MATERIAL NO ESTA EN 0.
        if (auxMaterial!=0){
          if(i==1){     g1 = (auxMaterial * m1) / 100;  cadena += material1n+"("+auxMaterial+"%): " + g1.toFixed(2) + gr + separador;    
            textPDF5 += material1n+"("+auxMaterial+"%): " + g1.toFixed(2) + gr + separadorPDF;
            materialesPDF += "|" + auxMaterial + "B";}
          else if(i==2){    g2 = (auxMaterial * m2) / 100;  cadena += material2n+"("+auxMaterial+"%): " + g2.toFixed(2) + gr + separador;    
            textPDF5 += material2n+"("+auxMaterial+"%): " + g2.toFixed(2) + gr + separadorPDF;
            materialesPDF += "|" + auxMaterial + "C";}
          else if(i==3){    g3 = (auxMaterial * m3) / 100;  cadena += material3n+"("+auxMaterial+"%): " + g3.toFixed(2) + gr + separador;    
            textPDF5 += material3n+"("+auxMaterial+"%): " + g3.toFixed(2) + gr + separadorPDF;
            materialesPDF += "|" + auxMaterial + "H";}
          else if(i==4){    g4 = (auxMaterial * m4) / 100;  cadena += material4n+"("+auxMaterial+"%): " + g4.toFixed(2) + gr + separador;    
            textPDF5 += material4n+"("+auxMaterial+"%): " + g4.toFixed(2) + gr + separadorPDF;
            materialesPDF += "|" + auxMaterial + "M";}
          else if(i==5){    g5 = (auxMaterial * m5) / 100;  cadena += material5n+"("+auxMaterial+"%): " + g5.toFixed(2) + gr + separador;    
            textPDF5 += material5n+"("+auxMaterial+"%): " + g5.toFixed(2) + gr + separadorPDF;
            materialesPDF += "|" + auxMaterial + "N";}
          else if(i==6){    g6 = (auxMaterial * m6) / 100;  cadena += material6n+"("+auxMaterial+"%): " + g6.toFixed(2) + gr + separador;    
            textPDF5 += material6n+"("+auxMaterial+"%): " + g6.toFixed(2) + gr + separadorPDF;
            materialesPDF += "|" + auxMaterial + "Z";}
          else if(i==7){     g7 = (auxMaterial * m7) / 100;  cadena += material7n+"("+auxMaterial+"%): " + g7.toFixed(2) + gr + separador;    
            textPDF5 += material7n+"("+auxMaterial+"%): " + g7.toFixed(2) + gr + separadorPDF;
            materialesPDF += "|" + auxMaterial + "G";}

          else if(i==8){    g8 = (auxMaterial * m8) / 100;  cadena += material8n+"("+auxMaterial+"%): " + g8.toFixed(2) + gr + separador;    
            textPDF5 += material8n+"("+auxMaterial+"%): " + g8.toFixed(2) + gr + separadorPDF;
            materialesPDF += "|" + auxMaterial + "E";}
          else if(i==9){    g9 = (auxMaterial * m9) / 100;  cadena += material9n+"("+auxMaterial+"%): " + g9.toFixed(2) + gr + separador;    
            textPDF5 += material9n+"("+auxMaterial+"%): " + g9.toFixed(2) + gr + separadorPDF;
            materialesPDF += "|" + auxMaterial + "P";}
          else{           g10 = (auxMaterial * m10) / 100;  cadena += material10n+"("+auxMaterial+"%): " + g10.toFixed(2) + gr + separador;    
            textPDF5 += material10n+"("+auxMaterial+"%): " + g10.toFixed(2) + gr + separadorPDF;
            materialesPDF += "|" + auxMaterial + "PH";}
        }
      }

            //IMPRESIÓN DE DATOS TÉCNICOS.
            if(auxM==100)
                imprimeModalInfo(cadena,1);
            else
                imprimeModalInfo(cadena,3);
        }
    }


    function validaciones(){
      //MESH
      var meshForm = document.getElementById("mesh_pieza").value * 1;
      //TIPO
      var tipoForm = document.getElementById("tipo_pieza").value * 1;
      //CLIENTE
      var clienteForm = document.getElementById("cliente").value;
      //DIAMETRO
      var diametroForm = document.getElementById("diametro").value*1;
      //ANCHO
      var anchoForm = document.getElementById("ancho").value*1;
      //ANGULO
      var anguloForm = document.getElementById("angulo").value*1;
      //DIAMANTE
      var diamanteForm = document.getElementById("diamante").value*1;

      var porcent = 0;
      for (var i = 1; i <= 10; i++)
          porcent+= document.getElementById("material"+i).value * 1;

      auxM = porcent;

      if(clienteForm == ""){imprimeModalInfo("Ingresa un <strong>CLIENTE</strong>.",2); return 1;}
      else if(diametroForm <= 0){imprimeModalInfo("Ingresa un <strong>DIAMETRO</strong> correcto.",2); return 1;}
      else if(anchoForm <= 0){imprimeModalInfo("Ingresa un <strong>ANCHO</strong> correcto.",2); return 1;}
      else if(anguloForm <= 0 || angulo >= 90){imprimeModalInfo("Ingresa un <strong>ÁNGULO</strong> correcto.",2); return 1;}
      else if(diamanteForm <= 0){imprimeModalInfo("Ingresa cantidad de <strong>DIAMANTE</strong> correcta.",2); return 1;}
      else if(meshForm == 0 ){imprimeModalInfo("Ingresa un <strong>MESH</strong> correcto.",2); return 1;}
      else if(tipoForm == 0 ){imprimeModalInfo("Ingresa un <strong>TIPO</strong> correcto.",2); return 1;}
      else if(porcent <= 0) { imprimeModalInfo("Las cantidades de <strong>MATERIALES</strong> es 0%.<br><br>Debes agregar al menos un porcentaje.",2); return 1; }
      else return 0;
    }

    function deshabilitaCheckBox(value){    document.getElementById("bujeros"+value).checked = false;   }

  function imprimeModalInfo(cadena, id){
    $('#colorModalHache').removeClass();
    if (id==1){
      $('#colorModalHache').addClass("bg-success");
      $('#colorModalHache').addClass("modal-header");
      $('#modalTitleH').html("INFORME COMPLETO");
      document.getElementById("modalFooterH").innerHTML = buttonCerrar + buttonDescargar;
    }
    else if(id==2){
      $('#colorModalHache').addClass("bg-danger");
      $('#colorModalHache').addClass("modal-header");
      $('#modalTitleH').html("ERROR!");
      document.getElementById("modalFooterH").innerHTML = buttonCerrar;
    }
    else{
      $('#colorModalHache').addClass("bg-warning");
      $('#colorModalHache').addClass("modal-header");
      $('#modalTitleH').html("INFORME COMPLETO (MATERIAL AL "+auxM+"%)");
      document.getElementById("modalFooterH").innerHTML = buttonCerrar + buttonDescargar;
    }

    $('#modalBodyH').html(cadena+"<BR>");
    $('#modalH').modal('show');
  }

    

    //VARIABLES PARA LA FECHA
    var year;
    var month;
    var day;
    var completeDate;
    var completeDateModal;
    
    //CURRENT DATE FOR PDF
    function getCurrentDate(){
        var dateNowX = new Date();
        year = dateNowX.getFullYear();
        month = dateNowX.getMonth()+1;
        if (month<10)
              month = "0"+month;
        day = dateNowX.getDate();
        if (day<10)
              day = "0"+day;
        
          completeDate = year+"-"+month+"-"+day;
          completeDateModal = year+"/"+month+"/"+day;
    }

    function descargar(){
      var doc = new jsPDF();
      getCurrentDate();

      
      //PARTE 0 DEL PDF
      //COLOR DE FUENTE  (AZUL) (50,80,200)
        doc.setTextColor(50,80,200);
      //TAMAÑO DE FUENTE HEAD
        doc.setFontSize(16);
      doc.text(20, 50, headPDF0);
      //COLOR DE FUENTE  (AZUL) (50,80,200)
        doc.setTextColor(50,80,200);
      //TAMAÑO DE FUENTE TEXT
        doc.setFontSize(10);
      doc.text(30, 55, textPDF0);

      //PARTE 1 DEL PDF
      //COLOR DE FUENTE (NEGRO) (50,50,50)
        doc.setTextColor(50,50,50);
      //TAMAÑO DE FUENTE HEAD
        doc.setFontSize(16);
      doc.text(20, 84, headPDF1);
      //COLOR DE FUENTE (NEGRO) (50,50,50)
        doc.setTextColor(50,50,50);
      //TAMAÑO DE FUENTE TEXT
        doc.setFontSize(10);
      doc.text(30, 89, textPDF1);

      //PARTE 2 DEL PDF
      //COLOR DE FUENTE (NEGRO) (50,50,50)
        doc.setTextColor(50,50,50);
      //TAMAÑO DE FUENTE HEAD
        doc.setFontSize(16);
      doc.text(20, 112, headPDF2);
      //COLOR DE FUENTE (NEGRO) (50,50,50)
        doc.setTextColor(50,50,50);
      //TAMAÑO DE FUENTE TEXT
        doc.setFontSize(10);
      doc.text(30, 117, textPDF2);

      //PARTE 3 DEL PDF
      //COLOR DE FUENTE (NEGRO) (50,50,50)
        doc.setTextColor(50,50,50);
      //TAMAÑO DE FUENTE HEAD
        doc.setFontSize(16);
      doc.text(20, 142, headPDF3);
      //COLOR DE FUENTE (NEGRO) (50,50,50)
        doc.setTextColor(50,50,50);
      //TAMAÑO DE FUENTE TEXT
        doc.setFontSize(10);
      doc.text(30, 147, textPDF3);

      //PARTE 4 DEL PDF
      //COLOR DE FUENTE (NEGRO) (50,50,50)
        doc.setTextColor(50,50,50);
      //TAMAÑO DE FUENTE HEAD
        doc.setFontSize(16);
      doc.text(20, 170, headPDF4);
      //COLOR DE FUENTE (NEGRO) (50,50,50)
        doc.setTextColor(50,50,50);
      //TAMAÑO DE FUENTE TEXT
        doc.setFontSize(10);
      doc.text(30, 175, textPDF4);

      //PARTE 5 DEL PDF
      //COLOR DE FUENTE  (ROJO) (200,50,80)
        doc.setTextColor(200,50,80);
      //TAMAÑO DE FUENTE HEAD
        doc.setFontSize(16);
      doc.text(20, 225, headPDF5);
      //COLOR DE FUENTE  (ROJO) (200,50,80)
        doc.setTextColor(200,50,80);
      //TAMAÑO DE FUENTE TEXT
        doc.setFontSize(10);
      doc.text(30, 230, textPDF5);


      //NOMBRE DEL ARCHIVO
      doc.save(clientePDF +" - AVELLANADOR - "+ medidasPDF + materialesPDF + ".pdf");
    }
      

    </script>

  </body>
    
</html>
