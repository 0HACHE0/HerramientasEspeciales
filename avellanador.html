<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="eH.css">

    <title>HERRAMIENTAS ESPECIALES</title>
  </head>
  <body bgcolor="FFCECB">

    <nav class="navbar navbar-dark bg-dark sticky-top">
      <a class="navbar-brand" href="#">
        <img src="h.jpg" width="60" height="60" class="d-inline-block align-center" alt="" loading="lazy"> AVELLANADOR
      </a>
       <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
     

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item active">
            <a class="nav-link" href="#">AVELLANADOR</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="brocas.html">BROCAS Y MUELAS</a>
          </li>
        </ul>
      </div>
    </nav>

    <br>

    <form>
      <div class="row col-md-10 ml-auto mr-auto">

        <div class="col-md-6 ml-auto mr-auto">

          <div class="form-group row">
            <p class="fontH col-3 col-form-label">Cliente:</p>
            <div class="col-9">
              <input type="text" class="form-control form-control-sm" id="cliente">
            </div>
          </div>

          <div class="row col-md-10 ml-auto mr-auto">
            <label class="ml-auto mr-auto fontH0">Pieza</label>
          </div>

          <div class="form-group col-md-12">
            <label class="fontH">Diametro:</label>
            <input type="number" class="form-control form-control-sm" id="diametro" placeholder="0" min="0" max ="60">
          </div>

          <div class="form-group col-md-12">
            <label class="fontH">Anchura:</label>
            <input type="number" class="form-control form-control-sm" id="anchura" placeholder="0" min="0">
          </div>

          
          <div class="form-group col-md-12">
            <label class="fontH">√Ångulo:</label>
            <input type="number" class="form-control form-control-sm" id="angulo" placeholder="0" min="0" max ="180">
          </div>

          <div class="form-group col-md-12">
            <label class="fontH">Cantidad de Diamante:</label>
            <input type="number" class="form-control form-control-sm" id="diamante" placeholder="0" min="0">
          </div>

          <div class="form-group col-md-12">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" id="bujeros1" value="2" onclick="deshabilitaCheckBox(value)">
              <label class="form-check-label fontH" >Sin Bujeros</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" id="bujeros2" value="1" onclick="deshabilitaCheckBox(value)">
              <label class="form-check-label fontH" >Con bujeros</label>
            </div>
          </div>
          

        </div>

        <div class="col-md-6 ml-auto mr-auto">

          <div class="row col-md-10 ml-auto mr-auto">
            <label class="ml-auto mr-auto fontH0">Materiales</label>
          </div>
          
          <br>

          <div class="form-group row">
            <p class="fontH col-4 col-form-label">Bronce:</p>
            <div class="col-6">
              <input type="number" class="form-control form-control-sm" id="material1" placeholder="0" min="0" max ="100">
            </div>
            <p class="fontH col-2 col-form-label">%</p>
          </div>

          <div class="form-group row">
            <p class="fontH col-4 col-form-label">Cobalto:</p>
            <div class="col-6">
              <input type="number" class="form-control form-control-sm" id="material2" placeholder="0" min="0" max ="100">
            </div>
            <p class="fontH col-2 col-form-label">%</p>

          </div>

          <div class="form-group row">
            <p class="fontH col-4 col-form-label">Hierro:</p>
            <div class="col-6">
              <input type="number" class="form-control form-control-sm" id="material3" placeholder="0" min="0" max ="100">
            </div>
            <p class="fontH col-2 col-form-label">%</p>
          </div>

          <div class="form-group row">
            <p class="fontH col-4 col-form-label">Manganeso:</p>
            <div class="col-6">
              <input type="number" class="form-control form-control-sm" id="material4" placeholder="0" min="0" max ="100">
            </div>
            <p class="fontH col-2 col-form-label">%</p>
          </div>

          <div class="form-group row">
            <p class="fontH col-4 col-form-label">Niquel:</p>
            <div class="col-6">
              <input type="number" class="form-control form-control-sm" id="material5" placeholder="0" min="0" max ="100">
            </div>
            <p class="fontH col-2 col-form-label">%</p>
          </div>

          <div class="form-group row">
            <p class="fontH col-4 col-form-label">Zinc:</p>
            <div class="col-6">
              <input type="number" class="form-control form-control-sm" id="material6" placeholder="0" min="0" max ="100">
            </div>
            <p class="fontH col-2 col-form-label">%</p>
          </div>

          <div class="form-group row">
            <p class="fontH col-4 col-form-label">Grafito:</p>
            <div class="col-6">
              <input type="number" class="form-control form-control-sm" id="material7" placeholder="0" min="0" max ="100">
            </div>
            <p class="fontH col-2 col-form-label">%</p>
          </div>

        </div>

        <div class="form-group col-md-12">
          <button type="button" class="btn btn-danger float-right" style="align-items: right;" onclick="calcular()">Calcular</button>
        </div>

      </div>



    </form>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

    <script type="text/javascript">

      document.getElementById("bujeros1").checked = true;

      function calcular(){

        if (validaciones()==0){

/*DATOS QUE INGRESA EL USUARIO*/
          var diametro = document.getElementById("diametro").value;
          var angulo = document.getElementById("angulo").value;
          var anchura = document.getElementById("anchura").value * 1;
          var diamanteForm = document.getElementById("diamante").value * 1;
          var conBujeros = document.getElementById("bujeros2").checked;

/*CONSTANTES*/

          var d0 = 0.0571;  //Diamante
          var material0n = "Diamante";
          var d1 = 8.5;  //bronce
          var material1n = "Bronce";
          var d2 = 8.9;  //cobalto
          var material2n = "Cobalto";
          var d3 = 7.84; //hierro
          var material3n = "Hierro";
          var d4 = 7.4;  //manganeso
          var material4n = "Manganeso";
          var d5 = 7.68; //niquel
          var material5n = "Niquel";
          var d6 = 7.14; //zinc
          var material6n = "Zinc";
          var d7 = 2.25; //grafito
          var material7n = "Grafito";


                                                                                                      /*CALCULOS DE VOLUMEN DEL CONO*/
/*CALCULOS PARA DETERMINAR ANGULO*/
          var rad = (Math.PI * angulo ) / 180 ;
          var anguloCal = Math.cos(rad);   



/*RADIO CONO MAYOR*/
          var radioE = diametro / 2;
//        alert("H Radio CONO Externo: " + radio);
     
/*HIPOTENUSA CONO MAYOR*/
          var hipotenusaE = radioE / anguloCal;
//          alert("H Hipotenusa CONO Externo: " + hipotenusa);

          var b2 = (hipotenusaE*hipotenusaE) - (radioE*radioE);
/*ALTURA CONO MAYOR*/
          var alturaE = Math.sqrt(b2);
//        alert("H Altura CONO ExternO: " + altura);

/*VOLUMEN CONO MAYOR*/
          var volumenConoMayor = (Math.PI * radioE * radioE * alturaE) / 3;
//        alert("H Volumen Externo CONO: " + volumenConoMayor);



/*RADIO CONO MENOR*/
          var radioI = radioE - anchura;
//        alert("H Radio CONO Interno: " + radio2);

/*HIPOTENUSA CONO MENOR*/
          var hipotenusaI = radioI / anguloCal;
//        alert("H Hipotenusa CONO Interno: " + hipotenusa2);

/*ALTURA CONO MENOR*/
          b2 = (hipotenusaI*hipotenusaI) - (radioI*radioI);
          var alturaI = Math.sqrt(b2);
//        alert("H Altura CONO Interno: " + altura2);

/*VOLUMEN CONO MENOR*/
          var volumenConoMenor = (Math.PI * radioI * radioI * alturaI) / 3;
//        alert("H Volumen Interno CONO: " + volumenConoMenor);


          var volumenTotalCono = volumenConoMayor - volumenConoMenor;
        alert("H Volumen Total CONO: " + volumenTotalCono);


/*CANTIDAD DE SIAMANTE (SE PASA A %)*/
          var diamante = (diamanteForm * 4.4) / 100;

          

                                                                                                      /*CALCULOS DE VOLUMEN DE LA BASE*/

          var volumenCilindroBase = Math.PI * radioE * radioE * anchura;
//        alert("H Volumen Cilindro Base: " + volumenCilindroBase);

          var volumenConoTruncoBase = Math.PI * anchura * ( (radioE * radioE) + (radioI * radioI) + (radioE * radioI) ) / 3;
//        alert("H Volumen Cono Trunco Base: " + volumenConoTruncoBase);

          var volumenTotalBase = volumenCilindroBase - volumenConoTruncoBase;
        alert("H Volumen Total BASE: " + volumenTotalBase);

                                                                                                      /*CALCULO VOLUMEN DE BUJEROS*/


          var alturaBujeros = hipotenusaE - 3 - 3;
//        alert("H Largo cada bujero Externa: " + alturaBujeros);

          var volumenBujero = alturaBujeros * 3 * 3;
//        alert("H Volumen cada bujero: " + volumenBujero);

          var volumenTotalBujeros = volumenBujero * 3;
//        alert("H Volumen de todos los bujeros: " + volumenTotalBujeros);

          if(conBujeros==false){
            volumenTotalBujeros = 0;
          }


                                                                                                      //CALCULOS DE VOLUMEN DE LA PIEZA COMPLETA


          var volumenTotalPiezaSinDiamante = volumenTotalCono + volumenTotalBase - volumenTotalBujeros;
        alert("H Volumen Total Pieza SIN DIAMANTE: " + volumenTotalPiezaSinDiamante);

          var kilates = (volumenTotalPiezaSinDiamante * diamante) / 1000;
//        alert("H Kilates Diamante: " + kilates);
          var g0 = kilates/5;

          var volumenDiamante = kilates * d0 * 1000;
//        alert("H Volumen X (Diamante): " + volumenX);

          var vol2mm = volumenTotalPiezaSinDiamante - volumenDiamante;
        alert("Volumen Total Pieza CON DIAMANTE: " + vol2mm);
  

          var m1=0, m2=0, m3=0, m4=0, m5=0, m6=0, m7=0;

          for (var i = 1; i <= 7; i++) {
            var materialForm = document.getElementById("material"+i).value * 1;
            if (materialForm!=0){
              if(i==1){ m1 = (d1 * vol2mm) / 1000;   //alert("Matriz para " + material1n + " es de: " + m1);
              }if(i==2){ m2 = (d2 * vol2mm) / 1000;  //alert("Matriz para " + material2n + " es de: " + m2);
              }if(i==3){ m3 = (d3 * vol2mm) / 1000;  //alert("Matriz para " + material3n + " es de: " + m3);
              }if(i==4){ m4 = (d4 * vol2mm) / 1000;  //alert("Matriz para " + material4n + " es de: " + m4);
              }if(i==5){ m5 = (d5 * vol2mm) / 1000;  //alert("Matriz para " + material5n + " es de: " + m5);
              }if(i==6){ m6 = (d6 * vol2mm) / 1000;  //alert("Matriz para " + material6n + " es de: " + m6);
              }if(i==7){ m7 = (d7 * vol2mm) / 1000;  //alert("Matriz para " + material7n + " es de: " + m7);
              }
            }
          }

          var g1=0, g2=0, g3=0, g4=0, g5=0, g6=0, g7=0;

          alert("Se requieren " + g0 + " gr de " + material0n);

          for (var i = 1; i <= 7; i++) {
            var materialForm = document.getElementById("material"+i).value * 1;
            if (materialForm!=0){
              if(i==1){ g1 = (materialForm * m1) / 100;  alert("Se requieren " + g1 + " gr de " + material1n);}
              if(i==2){ g2 = (materialForm * m2) / 100;  alert("Se requieren " + g2 + " gr de " + material2n);}
              if(i==3){ g3 = (materialForm * m3) / 100;  alert("Se requieren " + g3 + " gr de " + material3n);}
              if(i==4){ g4 = (materialForm * m4) / 100;  alert("Se requieren " + g4 + " gr de " + material4n);}
              if(i==5){ g5 = (materialForm * m5) / 100;  alert("Se requieren " + g5 + " gr de " + material5n);}
              if(i==6){ g6 = (materialForm * m6) / 100;  alert("Se requieren " + g6 + " gr de " + material6n);}
              if(i==7){ g7 = (materialForm * m7) / 100;  alert("Se requieren " + g7 + " gr de " + material7n);}
            }
          }
        }
      }

      
        function validaciones(){
        var diametro = document.getElementById("diametro").value*1;
        var anchura = document.getElementById("anchura").value*1;
        var angulo = document.getElementById("angulo").value*1;
        var diamante = document.getElementById("diamante").value*1;
        var porcent = 0;
        for (var i = 1; i <= 7; i++) {
          var material = document.getElementById("material"+i).value * 1;
          porcent+=material;
        }
        
        if(diametro <= 0){alert("Ingresa un DIAMETRO correcto."); return 1;}
        else if(anchura <= 0){alert("Ingresa una ANCHURA correcta."); return 2;}
        else if(angulo <= 0 || angulo >= 90){alert("Ingresa un ANGULO correcto."); return 3;}
        else if(diamante <= 0){alert("Ingresa cantidad de DIAMANTE correcta."); return 4;}
        else if(porcent != 100){alert("WARNING!\n\nLas cantidades de MATERIALES no corresponden al 100%."); return 0;}
        else return 0;
      }

      function deshabilitaCheckBox(value){
        document.getElementById("bujeros"+value).checked = false;
      }
      

    </script>

  </body>
</html>
